<!-- Load MathJax for LaTeX equations -->
<script>
window.MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$','$$'], ['\\[','\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script async id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<style>
.math-large mjx-container[jax="CHTML"][display="true"] {
  font-size: 150% !important;
  font-weight: 500 !important;
  margin: 1.2em 0 !important;
  text-align: center !important;  
  color: #dc2626 !important; /* üî¥ Uy√™n th√™m v√†o ƒë·ªÉ c√¥ng th·ª©c To√°n c√≥ m√†u ƒë·ªè ƒë·∫≠m r√µ n√©t */
}  

  mjx-container {
  color: #dc2626 !important; /* Uy√™n th√™m v√†o ƒë·ªÉ √°p d·ª•ng cho to√†n b·ªô c√¥ng th·ª©c */
}

/* ====== WIDGET ƒê·ªîI EN / VI (KH√îNG D√ôNG GOOGLE TRANSLATE) ====== */

#lang-switch-wrapper {
  position: fixed;
  bottom: 16px;
  right: 16px;
  z-index: 9999;
  background: rgba(17, 24, 39, 0.92);
  padding: 6px 10px;
  border-radius: 999px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.18);
  font-size: 13px;
}

#lang-switch-wrapper .lang-switch {
  display: flex;
  align-items: center;
  gap: 6px;
  color: #e5e7eb;
}

#lang-switch-wrapper .lang-switch span {
  font-size: 14px;
}

#lang-switch-wrapper .lang-switch a {
  text-decoration: none;
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 12px;
  color: #e5e7eb;
  transition: background 0.15s ease, color 0.15s ease;
}

#lang-switch-wrapper .lang-switch a:hover {
  background: rgba(249, 250, 251, 0.12);
}

#lang-switch-wrapper .lang-switch a.active {
  background: #f9fafb;
  color: #111827;
  font-weight: 600;
}
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    // N·∫øu ƒë√£ c√≥ widget th√¨ th√¥i
    if (document.getElementById('lang-switch-wrapper')) return;

    var wrapper = document.createElement('div');
    wrapper.id = 'lang-switch-wrapper';

    var currentLang = "{{ page.lang | default: 'vi' }}";
    var altUrl = "{{ page.alt_lang_url | default: page.url }}";

    // N·∫øu ch∆∞a c·∫•u h√¨nh alt_lang_url th√¨ v·∫´n t·∫°o widget,
    // nh∆∞ng link EN s·∫Ω tr·ªè v·ªÅ ch√≠nh trang hi·ªán t·∫°i (ƒë·ªÉ test giao di·ªán).
    wrapper.innerHTML = `
      <div class="lang-switch">
        <span>üåê</span>
        <a href="{{ page.url | relative_url }}"
           class="${currentLang === 'vi' ? 'active' : ''}">
          VI
        </a>
        <a href="${altUrl}"
           class="${currentLang === 'en' ? 'active' : ''}">
          EN
        </a>
      </div>
    `;

    document.body.appendChild(wrapper);
  });
</script>

